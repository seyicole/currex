<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- Popper JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
 
<!-- google api for places -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCsHybHgDxye72Os1Jw9eW2e1aowg-LMZo&libraries=places"></script>

<link rel="stylesheet" href="assets/css/style.css">

<title>Currex</title>

</head>


<body>
    <div class="jumbotron text-center" style="margin-bottom:0">
        <h1>Find people to trade with</h1>
        <!-- <p>Resize this responsive page to see the effect!</p>  -->

        <!-- Button to Open the Modal -->
  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
    Create Trade ad
  </button>

  <!-- The Modal -->
  <div class="modal fade" id="myModal">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Create</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="container border">
            <div class="d-flex justify-content-around">
                <p>Trade</p>
            </div>
    
                <div class="d-flex justify-content-around">
                    <ul class="nav nav-tabs">
                        <li class="nav-item">
                          <a class="nav-link active" data-toggle="tab" href="#buy1">Buy</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" data-toggle="tab" href="#sell1">Sell</a>
                        </li>
                      </ul>
                    
                </div>
            
                <!-- Buy tab -->
                <div class="tab-content">
                    <div id="buy1" class="container tab-pane active">   
                        <div class="d-flex justify-content-around">
                        <form>
                            <select name="cars" class="custom-select-sm">
                                <option selected>Choose Currency</option>
                                <option value="volvo">Pounds</option>
                                <option value="fiat">Dollars</option>
                                <option value="audi">Euro</option>
                                <option value="audi">Naira</option>
                            </select>
                            </form>
                        </div>
                        <!-- End -->
                        <!-- rate n location -->
                        <div class="trade-ads d-flex justify-content-around mx-5">
                            <div class="d-flex justify-content-around">
                                <form class="form" action="/action_page.php">
                                    <label for="number">Rate to buy</label>
                                    <input type="number" class="form-control" placeholder="Enter amount" id="amount">
                                    <label for="location">Location</label>
                                    <input id="searchTextField"  type="text" class="form-control" placeholder="Enter Location" id="location">
                                </form>
                            </div>
                        </div>
                        <!-- End -->
                        <!-- min n max amount  -->
                        <div class="d-flex justify-content-around">
                            <form class="form-inline" action="/action_page.php">
                                <label for="number">Min</label>
                                <input type="number" class="form-control" placeholder="Enter amount" id="amount">
                                <label for="location">Max</label>
                                <input type="number" class="form-control" placeholder="Enter amount" id="location">
                                
                                <button type="submit" class="btn btn-primary">Post</button>
                            </form>
                        </div>
                        <!-- End -->
                        
                        
                    </div>
                    <!-- end -->
                    <!-- Sell tab -->
                
                    <div id="sell1" class="container tab-pane">   
                        <div class="d-flex justify-content-around">
                        <form>
                            <select name="cars" class="custom-select-sm">
                                <option selected>Choose Currency</option>
                                <option value="volvo">Pounds</option>
                                <option value="fiat">Dollars</option>
                                <option value="audi">Euro</option>
                                <option value="audi">Naira</option>
                            </select>
                            </form>
                        </div>
                        <!-- End -->
                        <!-- rate n location -->
                        <div class="trade-ads d-flex justify-content-around mx-5">
                            <div class="d-flex justify-content-around">
                                <form class="form" action="/action_page.php">
                                    <label for="number">Sell Rate</label>
                                    <input type="number" class="form-control" placeholder="Enter amount" id="amount">
                                    <label for="location">Location</label>
                                    <input type="text" class="form-control" placeholder="Enter Location" id="location">
                                </form>
                            </div>
                        </div>
                        <!-- End -->
                        <!-- min n max amount  -->
                        <div class="d-flex justify-content-around">
                            <form class="form-inline" action="/action_page.php">
                                <label for="number">Min</label>
                                <input type="number" class="form-control" placeholder="Enter amount" id="amount">
                                <label for="location">Max</label>
                                <input type="number" class="form-control" placeholder="Enter amount" id="location">
                                
                                <button type="submit" class="btn btn-primary">Post</button>
                            </form>
                        </div>
                    </div>
                </div>
                <!-- end -->
          </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
        
      </div>
    </div>
  </div>
  
      </div>

      <div class="container border">
        <div class="d-flex justify-content-around">
            <p>Trade</p>
        </div>

            <div class="d-flex justify-content-around">
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                      <a class="nav-link active" data-toggle="tab" href="#buy">Buy</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" data-toggle="tab" href="#sell">Sell</a>
                    </li>
                  </ul>
                
            </div>
        
            <!-- Buy tab -->
            <div class="tab-content">
            <div id="buy" class="container tab-pane active">   
                <div class="d-flex justify-content-around">
                <form>
                    <select name="cars" class="custom-select-sm">
                        <option selected>Choose Currency</option>
                        <option value="volvo">Pounds</option>
                        <option value="fiat">Dollars</option>
                        <option value="audi">Euro</option>
                        <option value="audi">Naira</option>
                    </select>
                    </form>
                </div>
                <!-- End -->
                <!-- amount n location  -->
                <div class="d-flex justify-content-around">
                <form class="form-inline">
                    <!-- <label for="email">Amount:</label>
                    <input type="number" class="form-control" placeholder="Enter amount" id="amount"> -->
                    <label for="location">Location:</label>
                    <input  type="text" class="form-control"
                    id="myInput" onkeyup="myFunction()" placeholder="Search Location">
                    
                    <!-- <button type="submit" class="btn btn-primary">Search</button> -->
                    </form>
                </div>
                <!-- End -->
                
                <!-- trade ads section -->
                <div id="buy-list">
                    
                </div>
            </div>
            <!-- end -->
            <!-- Sell tab -->
            <div id="sell" class="container tab-pane fade">   
                <div class="d-flex justify-content-around">
                  <form>
                      <select name="cars" class="custom-select-sm">
                        <option selected>Custom Select Menu</option>
                        <option value="volvo">Pounds</option>
                        <option value="fiat">Dollars</option>
                        <option value="audi">Euro</option>
                        <option value="audi">Naira</option>
                      </select>
                    </form>
                </div>
                <!-- End -->
                <!-- amount n location  -->
                <div class="d-flex justify-content-around">
                  <form class="form-inline">
                      <!-- <label for="email">Amount:</label>
                      <input type="number" class="form-control" placeholder="Enter amount" id="amount"> -->
                      <label for="location">Location:</label>
                      <input id="myInput1" onkeyup="myFunction1()" type="text" class="form-control" placeholder="Enter Location" id="location">
                      
                      <!-- <button type="submit" class="btn btn-primary">Search</button> -->
                    </form>
                </div>
                <!-- End -->
                <div id="sell-list"></div>
                <!-- trade ads section -->
                
            </div>
            </div>
            <!-- end -->
      </div>
</body>
<script>
    let data = [
    {
        'id': 0,
        'name': '@John',
        'location': 'Salford',
        'trade': 'sell',
        'currency': 'Pounds',
        'rate': 600,
        'range': {
            'min': 10,
            'max': 100,
        },
        'contact': '44 7014 000000',
        'verified': 'yes',
        'rating':{
            'percent': 91,
            'total': 30,
            'positive': 25,
            'negative': 5
        }
    },

    {
        'id': 1,
        'name': '@Norah',
        'location': 'Salford',
        'trade': 'sell',
        'currency': 'Pounds',
        'rate': 580,
        'range': {
            'min': 1,
            'max': 250,
        },
        'contact': '44 7014 000000',
        'verified': 'yes',
        'rating':{
            'percent': 39,
            'total': 30,
            'positive': 29,
            'negative': 1
        }
    },

    {
        'id': 2,
        'name': '@Betty',
        'location': 'Salford',
        'trade': 'buy',
        'currency': 'Pounds',
        'rate': 570,
        'range': {
            'min': 200,
            'max': 1000,
        },
        'contact': '44 7014 000000',
        'verified': 'yes',
        'rating':{
            'percent': 100,
            'total': 20,
            'positive': 20,
            'negative': 0
        }
    },

    {
        'id': 3,
        'name': '@Valerie',
        'location': 'Birmingham',
        'trade': 'sell',
        'currency': 'Pounds',
        'rate': 620,
        'range': {
            'min': 5,
            'max': 90,
        },
        'contact': '44 7014 000000',
        'verified': 'yes',
        'rating':{
            'percent': 20,
            'total': 30,
            'positive': 5,
            'negative': 25
        }
    },

    {
        'id': 4,
        'name': '@Chris',
        'location': 'London',
        'trade': 'buy',
        'currency': 'Pounds',
        'rate': 500,
        'range': {
            'min': 20,
            'max': 250,
        },
        'contact': '44 7014 000000',
        'verified': 'yes',
        'rating':{
            'percent': 50,
            'total': 40,
            'positive': 20,
            'negative': 20
        }
    },

    {
        'id': 5,
        'name': '@Grace',
        'location': 'Manchester',
        'trade': 'buy',
        'currency': 'Pounds',
        'rate': 600,
        'range': {
            'min': 5,
            'max': 100,
        },
        'contact': '44 7014 000000',
        'verified': 'yes',
        'rating':{
            'percent': 35,
            'total': 33,
            'positive': 13,
            'negative': 20
        }
    }
]


    const sellAds = data.filter(keyword => keyword.trade === 'sell');
    //console.log(sellAds)
    sellAds.map((ads) => {
        const sellers = document.getElementById('sell-list')
        let sell = `<div class="trade-ads buy-ads d-flex justify-content-around mx-5">
                    <div class="ads-info1">
                        <p><span class="bg-danger text-light">${ads.trade}</span> at <span class="font-weight-bolder">${ads.rate}</span> Naira/Pounds</p>
                        <p>${ads.range.min} - ${ads.range.max} Pounds</p>
                        <p class="ads-location1">${ads.location}</p>
                        ${ads.name}
                    </div>
    
                    <div>
                       ${ads.percent >= 50? `<p class="text-success">${ads.rating.percent}</p>` : `<p class="text-danger">${ads.rating.percent}%</p>` }
                    </div>
    
                    <div>
                        <a href="details.html"><button class="btn btn-primary">Details</button></a>
                    </div>
                </div>`
        sellers.innerHTML += sell;
    })
    const buyAds = data.filter(keyword => keyword.trade === 'buy');
    buyAds.map((ads) => {
        const buyers = document.getElementById('buy-list')
        let buy = `<div class="trade-ads sell-ads d-flex justify-content-around mx-5">
                    <div class="ads-info">
                        <p><span class="bg-success text-light">${ads.trade}</span> at <span class="font-weight-bolder">${ads.rate}</span> Naira/Pounds</p>
                        <p>${ads.range.min} - ${ads.range.max} Pounds</p>
                        <p class="ads-location">${ads.location}</p>
                        ${ads.name}
                    </div>
    
                    <div>
                       ${ads.percent >= 50? `<p class="text-success">${ads.rating.percent}</p>` : `<p class="text-danger">${ads.rating.percent}%</p>` }
                    </div>
    
                    <div>
                        <a href="details.html"><button class="btn btn-primary">Details</button></a>
                    </div>
                </div>`
        buyers.innerHTML += buy;
    })





// // search 2
// function initialize() {
//   var input = document.getElementById('searchTextField1');
//   new google.maps.places.Autocomplete(input);
// }

// google.maps.event.addDomListener(window, 'load', initialize);

function myFunction() {
    var input, filter, ul, li, a, i, txtValue;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    ul = document.getElementById("buy-list");
    li = ul.getElementsByClassName("ads-info");
    for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByClassName("ads-location")[0];
        txtValue = a.textContent || a.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
        } else {
            li[i].style.display = "none";
        }
    }
}


function myFunction1() {
    var input, filter, ul, li, a, i, txtValue;
    input = document.getElementById("myInput1");
    filter = input.value.toUpperCase();
    ul = document.getElementById("sell-list");
    li = ul.getElementsByClassName("ads-info1");
    for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByClassName("ads-location1")[0];
        txtValue = a.textContent || a.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
        } else {
            li[i].style.display = "none";
        }
    }
}


// function search(){
//   sellAds.map((post)=>{
//       if(post.location === 'salford'){
//           console.log(post)
//       }
//   })
// }

// console.log(search())
</script>
</html>